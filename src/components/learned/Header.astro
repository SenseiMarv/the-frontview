---
import TagList from "../tags/TagList.astro";
import { formatDateToLocaleDate } from "../utils/formatDates.js";
import Icon from "../utils/Icon.astro";
import Share from "../utils/Share.astro";

export interface Props {
  title: string;
  pubDate: string;
  tags: string;
  readingTime: number;
}

const { title, pubDate, tags, readingTime } = Astro.props;

const formattedDate = formatDateToLocaleDate(new Date(pubDate));
const formattedReadingTime = `${readingTime} min read`;
---

<div class="flex flex-col items-center">
  <h1 class="text-5xl leading-snug md:text-6xl">
    {title}
  </h1>
  <div
    class="mt-4 flex flex-col items-center gap-1 whitespace-nowrap text-lg leading-snug text-gray-500 dark:text-gray-400 sm:flex-row md:mt-6 md:text-xl"
  >
    <div class="flex gap-1">
      <Icon
        iconSet="fluent-emoji-high-contrast"
        name="tear-off-calendar"
        classString="align-sub w-5 h-5"
      />
      {formattedDate}
      <div class="hidden sm:inline-block">|</div>
    </div>
    <div class="flex gap-1">
      <Icon
        iconSet="fluent-emoji-high-contrast"
        name="eight-oclock"
        classString="align-sub w-5 h-5"
      />
      {formattedReadingTime}
      <div class="hidden sm:inline-block">|</div>
    </div>
    <div class="flex gap-1">
      <Icon
        iconSet="fluent-emoji-high-contrast"
        name="keycap-hashtag"
        classString="align-sub w-5 h-5"
      />
      <div class="flex flex-wrap">
        <TagList tags={tags} />
      </div>
    </div>
  </div>
  <div class="mt-4 md:mt-8">
    <Share />
  </div>
</div>
